/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/9.0.93
 * Generated at: 2024-12-02 07:40:29 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.views.product;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import kr.ohora.www.domain.product.ProductDTO;
import kr.ohora.www.domain.product.OptionDTO;

public final class prdDetailView_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(5);
    _jspx_dependants.put("jar:file:/C:/Users/USER/Desktop/SpringOhora/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/ProjectOhora/WEB-INF/lib/jstl-1.2.jar!/META-INF/c.tld", Long.valueOf(1153352682000L));
    _jspx_dependants.put("/WEB-INF/lib/spring-security-taglibs-5.0.7.RELEASE.jar", Long.valueOf(1731461761808L));
    _jspx_dependants.put("/WEB-INF/lib/jstl-1.2.jar", Long.valueOf(1731460991358L));
    _jspx_dependants.put("jar:file:/C:/Users/USER/Desktop/SpringOhora/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/ProjectOhora/WEB-INF/lib/jstl-1.2.jar!/META-INF/fmt.tld", Long.valueOf(1153352682000L));
    _jspx_dependants.put("jar:file:/C:/Users/USER/Desktop/SpringOhora/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/ProjectOhora/WEB-INF/lib/spring-security-taglibs-5.0.7.RELEASE.jar!/META-INF/security.tld", Long.valueOf(1532606274000L));
  }

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.LinkedHashSet<>(4);
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = new java.util.LinkedHashSet<>(3);
    _jspx_imports_classes.add("kr.ohora.www.domain.product.OptionDTO");
    _jspx_imports_classes.add("kr.ohora.www.domain.product.ProductDTO");
  }

  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fsec_005fauthorize_0026_005faccess;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvarStatus_005fvar_005fitems;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fif_0026_005ftest;

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
    _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fsec_005fauthorize_0026_005faccess = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvarStatus_005fvar_005fitems = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fc_005fif_0026_005ftest = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
  }

  public void _jspDestroy() {
    _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems.release();
    _005fjspx_005ftagPool_005fsec_005fauthorize_0026_005faccess.release();
    _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvarStatus_005fvar_005fitems.release();
    _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.release();
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    if (!javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      final java.lang.String _jspx_method = request.getMethod();
      if ("OPTIONS".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        return;
      }
      if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSP들은 오직 GET, POST 또는 HEAD 메소드만을 허용합니다. Jasper는 OPTIONS 메소드 또한 허용합니다.");
        return;
      }
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;


    // productId를 사용해 DB에서 해당 상품 정보를 조회하여 화면에 출력하는 코드 작성
    String productId = request.getParameter("productId");
    
    // product 객체를 명시적으로 선언하고 가져오기
    ProductDTO product = (ProductDTO) request.getAttribute("product"); 

      out.write("<!DOCTYPE html>\n");
      out.write("<html>\n");
      out.write("<head>\n");
      out.write("<meta charset=\"UTF-8\">\n");
      out.write("<title>오호라 팀 프로젝트</title>\n");
      out.write("<link rel=\"shortcut icon\" type=\"image/x-icon\" href=\"http://localhost/jspPro/images/SiSt.ico\">\n");
      out.write("<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js\"></script>\n");
      out.write("<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n");
      out.write("<meta name=\"google\" content=\"notranslate\">\n");
      out.write("<link rel=\"stylesheet\" href=\"/projectOhora/resources/cdn-main/prdDetailView.css\">\n");
      out.write(" <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css\" />\n");
      out.write(" <script type=\"text/javascript\">\n");
      out.write("    window.hasProductCountSession = ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${not empty sessionScope.userId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(";\n");
      out.write("</script>\n");
      out.write("<style>\n");
      out.write(" span.material-symbols-outlined{\n");
      out.write("    vertical-align: text-bottom;\n");
      out.write(" }  \n");
      out.write("</style>\n");
      out.write("</head>\n");
      out.write("<body>\n");
      out.write("<button id=\"btnTotalAmountUpdate\" style=\"display: none;\">수량실시간변경</button>\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("<!------------------------------ 상품 상세 영역 -------------------------------->\n");
      out.write("<div class=\"SP_prdDtail_wrap renew_prdDetail\">\n");
      out.write("    <!------------------------------ 레이아웃 -------------------------------->\n");
      out.write("    <div class=\"SP_layoutFix\">\n");
      out.write("      <!------------------------------ product_detail 모듈 -------------------------------->\n");
      out.write("      <div class=\"xans-element- xans-product xans-product-detail\"><!--\n");
      out.write("            $coupon_download_page = /coupon/coupon_productdetail.html\n");
      out.write("            -->\n");
      out.write("\n");
      out.write("  <!------------------------------ SP_detailArea_wrap -------------------------------->\n");
      out.write("  <div class=\"SP_detailThumbnail_wrap\">\n");
      out.write("    <!-- 큰 이미지 -->\n");
      out.write("    <div class=\"SP_thumbnail\">\n");
      out.write("        <img id=\"mainImage\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtImgUrl }", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\" alt=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtName }", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\" class=\"BigImage\">\n");
      out.write("    </div>\n");
      out.write("\n");
      out.write("    <!-- 작은 이미지 목록 -->\n");
      out.write("    <div class=\"SP_listImg\">\n");
      out.write("        <ul>\n");
      out.write("            <li><img src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtImgUrl }", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\" alt=\"Thumb 1\" onmouseover=\"changeImage('");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtImgUrl }", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("')\"></li>\n");
      out.write("            <li><img src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtImgUrl2 }", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\" alt=\"Thumb 2\" onmouseover=\"changeImage('");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtImgUrl2 }", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("')\"></li>\n");
      out.write("            <!-- <li><img src=\"https://www.ohora.kr/web/product/extra/small/202410/20ea938442221e7f2d275a865172a656.jpg\" alt=\"Thumb 3\" onmouseover=\"changeImage('image/prd_image/마롱네일4.jpg')\"></li>\n");
      out.write("            <li><img src=\"https://www.ohora.kr/web/product/extra/small/202410/7ad8d1c56f1046c160fa9395f443c187.jpg\" alt=\"Thumb 4\" onmouseover=\"changeImage('image/prd_image/마롱네일1.jpg')\"></li> -->\n");
      out.write("        </ul>\n");
      out.write("    </div>\n");
      out.write("</div>\n");
      out.write("\n");
      out.write("<script>\n");
      out.write("    // 큰 이미지를 변경하는 function\n");
      out.write("    function changeImage(imageSrc) {\n");
      out.write("        document.getElementById('mainImage').src = imageSrc;\n");
      out.write("    }\n");
      out.write("</script>\n");
      out.write("\n");
      out.write("\n");
      out.write("    <!------------------------------ //상품 이미지 영역 -------------------------------->\n");
      out.write("          <!------------------------------ 상품 정보 영역 -------------------------------->\n");
      out.write("          <div class=\"SP_detailPrdOpt_wrap\" style=\"opacity: 1;\">\n");
      out.write("            <!------------------------------ 상품 정보 영역 inner -------------------------------->\n");
      out.write("            <div class=\"SP_detailPrdOpt_inr\">\n");
      out.write("              \n");
      out.write("                        <div class=\"color displaynone\">\n");
      out.write("                        <div module=\"product_Colorchip\">\n");
      out.write("                        <span class=\"chips\" style=\"background-color:\"></span>\n");
      out.write("                        <span class=\"chips\" style=\"background-color:\"></span>\n");
      out.write("                        </div>\n");
      out.write("                        </div>\n");
      out.write("                        \n");
      out.write("\n");
      out.write("              <!-------------------------- 상품 정보 호출 ---------------------------->\n");
      out.write("              <div class=\"xans-element- xans-product xans-product-detaildesign SP_dtPrdOptionList_wrap\"><!--\n");
      out.write("                            출력 갯수 지정 변수, 없으면 설정된 전체가 나옵니다.\n");
      out.write("                            count = 10\n");
      out.write("                            -->\n");
      out.write("  <ul class=\"SP_prdListItemInfo\" style=\"display: block;\">\n");
      out.write("	  <li class=\"display_상품명 xans-record- SP_dfList_prdName\">\n");
      out.write("	  <span class=\"title\" style=\"\"><!--<span style=\"\">상품명</span>--></span><span class=\"SP_detail_content\" style=\"\"><span style=\"\">");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtName}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("</span></span>\n");
      out.write("	  </li><li class=\"xans-record- review_count\"><span class=\"SP_detail_content\">리뷰 ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtReviewCount}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("</span></li>\n");
      out.write("		\n");
      out.write("	  <li class=\"display_가격 xans-record- SP_dfList_price strike\" style=\"display: list-item;\">\n");
      out.write("	  <span class=\"title\" style=\"\">가격</span><span class=\"SP_detail_content\" style=\"\"><span style=\"\"><strong id=\"span_product_price_text\" style=\"text-decoration: line-through;\">");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtAmount}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("원</strong><input id=\"product_price\" name=\"product_price\" value=\"\" type=\"hidden\" style=\"\"></span><span class=\"salesPrice\">");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtDiscountAmount}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("원</span><span class=\"dcPercent\">");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtDiscountRate}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("%</span></span>\n");
      out.write("	  </li>\n");
      out.write("		\n");
      out.write("	  \n");
      out.write("	");
 if (product.hasOptions()) { 
      out.write("<!-- 옵션 선택 드롭다운 출력 -->\n");
      out.write("	    <span class=\"option\">옵션 선택 : </span> <select class=\"option_select\" id=\"productOptionSelect\">\n");
      out.write("	        <option value=\"\" selected>옵션을 선택해주세요</option>\n");
      out.write("	        <option value=\"\" disabled>------------------</option>\n");
      out.write("	        ");
 for (OptionDTO option : product.getOptions()) { 
      out.write("<option value=\"");
      out.print( option.getOptId() );
      out.write("\" data-option-name=\"");
      out.print( option.getOptName() );
      out.write("\" data-option-price=\"");
      out.print( option.getOptAmount() );
      out.write("\">\n");
      out.write("	                ");
      out.print( option.getOptName() );
      out.write("</option>\n");
      out.write("	        ");
 } 
      out.write("</select>\n");
      out.write("	");
 } else { 
      out.write("<!-- 수량 선택 출력 -->\n");
      out.write("	    <div>\n");
      out.write("	        <label><p style=\"display: inline-block; padding-right: 90px\">수량:</p></label>\n");
      out.write("	        <button type=\"button\" onclick=\"decrementQuantity()\" class=\"main_option_down\" style=\"padding: 5px 10px; border: 1px solid  #ddd\" >-</button>\n");
      out.write("	        <input type=\"text\" value=\"1\" id=\"option_main_quantity\" product-id = ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(">\n");
      out.write("	        <button type=\"button\" onclick=\"incrementQuantity()\" class=\"main_option_up\" style=\"padding: 5px 10px; border: 1px solid  #ddd\">+</button>\n");
      out.write("	    </div>\n");
      out.write("	");
 } 
      out.write("<script>\n");
      out.write("	\n");
      out.write("    \n");
      out.write("\n");
      out.write("    // 수량 감소 기능\n");
      out.write("    function decrementQuantity() {\n");
      out.write("        var quantityInput = document.getElementById(\"option_main_quantity\");\n");
      out.write("        var currentValue = parseInt(quantityInput.value);\n");
      out.write("\n");
      out.write("        if (currentValue > 1) {\n");
      out.write("            quantityInput.value = currentValue - 1;\n");
      out.write("            \n");
      out.write("        } else {\n");
      out.write("            alert(\"최소 주문수량은 1개 입니다\");\n");
      out.write("        }\n");
      out.write("        calculateMainProductTotalPrice();\n");
      out.write("        $(\"#btnTotalAmountUpdate\").click();\n");
      out.write("        lastPriceFunc();\n");
      out.write("        \n");
      out.write("    }\n");
      out.write("\n");
      out.write("    // 수량 증가 기능\n");
      out.write("    function incrementQuantity() {\n");
      out.write("        var quantityInput = document.getElementById(\"option_main_quantity\");\n");
      out.write("        var currentValue = parseInt(quantityInput.value);\n");
      out.write("\n");
      out.write("        quantityInput.value = currentValue + 1;\n");
      out.write("        calculateMainProductTotalPrice();\n");
      out.write("        $(\"#btnTotalAmountUpdate\").click();\n");
      out.write("        lastPriceFunc();\n");
      out.write("        \n");
      out.write("    }\n");
      out.write("\n");
      out.write("</script>\n");
      out.write("	\n");
      out.write("	<script>\n");
      out.write("	// 옵션 선택 시 동적으로 상품 추가\n");
      out.write("	//document.getElementById(\"productOptionSelect\").addEventListener(\"change\", function() {\n");
      out.write("		$(\".option_select\").on(\"change\", function () {\n");
      out.write("			\n");
      out.write("	    var selectedOption = this.options[this.selectedIndex];\n");
      out.write("\n");
      out.write("	    // 선택된 옵션의 ID, 이름, 가격을 가져옴 + 메인 상품 이름\n");
      out.write("	    var productId = selectedOption.value;\n");
      out.write("	    var optionName = selectedOption.getAttribute(\"data-option-name\");\n");
      out.write("	    var productName = \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtName}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\"; // 상품명 가져오기\n");
      out.write("	    var productAmount = Number(\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtAmount}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\");\n");
      out.write("\n");
      out.write("	    // 값이 없을 경우 처리하지 않음\n");
      out.write("	    if (!productId) return;\n");
      out.write("\n");
      out.write("	    // 이미 추가된 상품인지 확인\n");
      out.write("	    if ($(\".add_product[data-option-add-index='\" + productId + \"']\").length > 0) {\n");
      out.write("	        alert(\"해당 옵션이 이미 추가되었습니다.\");\n");
      out.write("	        return;\n");
      out.write("	    }\n");
      out.write("\n");
      out.write("	    // 가격 형식 변환\n");
      out.write("	    var formattedPrice = productAmount.toLocaleString();\n");
      out.write("\n");
      out.write("	    // 동적으로 회색 영역에 추가할 상품 HTML 템플릿\n");
      out.write("	    var additionalProductHtml = `\n");
      out.write("				    <div class=\"add_product\" data-option-add-index=\"${productId}\">\n");
      out.write("				        <div class=\"product\">\n");
      out.write("				            <p>${productName}<br> - <span style=\"display: inline;\">${optionName}</span></p>\n");
      out.write("				        </div>\n");
      out.write("				        <!-- 수량 선택 요소를 상품 설명 아래로 이동 -->\n");
      out.write("				        <div class=\"quantity\">\n");
      out.write("				            <a href=\"javascript:void(0);\" id=\"selectedDown\" class=\"down eAddProductQuantityDownClass\" data-target=\"option_add_box${productId}_down\">-</a>\n");
      out.write("				            <input type=\"text\" id=\"option_add_box${productId}_quantity\" name=\"quantity_opt[]\" class=\"quantity_opt eAddProductQuantityClass\" value=\"1\" product-id=\"${productId}\" readonly>\n");
      out.write("				            <a href=\"javascript:void(0);\" id=\"selectedUp\" class=\"up eAddProductQuantityUpClass\" data-target=\"option_add_box${productId}_up\">+</a>\n");
      out.write("				        </div>\n");
      out.write("				        <div class=\"right\">\n");
      out.write("				            <span id=\"option_add_box${productId}_price\">\n");
      out.write("				                <input type=\"hidden\" class=\"add_product_option_box_price\" value=\"${productAmount}\" product-id=\"${productId}\">\n");
      out.write("				                <span class=\"ec-front-product-item-price\" product-id=\"${productId}\">${formattedPrice}</span>원\n");
      out.write("				            </span>\n");
      out.write("				        </div>\n");
      out.write("				        <div class=\"delete\" onclick=\"removeProduct(${productId})\">\n");
      out.write("				            ×\n");
      out.write("				        </div>\n");
      out.write("				    </div>\n");
      out.write("				`;\n");
      out.write("        \n");
      out.write("	    // 회색 영역에 추가 상품 삽입\n");
      out.write("	    $(\"#additional-product-list\").append(additionalProductHtml);\n");
      out.write("	    $(\"#btnTotalAmountUpdate\").click();\n");
      out.write("	    lastPriceFunc();\n");
      out.write("		})\n");
      out.write("	\n");
      out.write("	\n");
      out.write("	\n");
      out.write("\n");
      out.write("	\n");
      out.write("	// 선택 상품 삭제function\n");
      out.write("	function removeProduct(productId) {\n");
      out.write("    $(\".add_product[data-option-add-index='\" + productId + \"']\").remove();\n");
      out.write("	}\n");
      out.write("	</script>\n");
      out.write("	  \n");
      out.write("		\n");
      out.write("	  <!-- <li class=\"xans-record- SP_dfList_quantity\" style=\"display: list-item;\">\n");
      out.write("	  			<span class=\"title\" style=\"\">수량</span><span class=\"SP_detail_content\">\n");
      out.write("	  			<a href=\"#none\" class=\"down\"></a><input id=\"quantity_clone\" value=\"1\" type=\"text\" readonly=\"\"><a href=\"#none\" class=\"up\"></a></span>\n");
      out.write("	  		</li> -->\n");
      out.write("	  <li class=\"xans-record- SP_dfList_mileageInfo\" style=\"display: list-item;\"></li> \n");
      out.write("  </ul>\n");
      out.write("  \n");
      out.write(" \n");
      out.write("  \n");
      out.write("  \n");
      out.write("  \n");
      out.write("\n");
      out.write("  <!-- <span class=\"title\" style=\"\"><span style=\"\">할인판매가</span></span><span class=\"SP_detail_content\" style=\"\"><span style=\"\"><span style=\"\"><span id=\"span_product_price_sale\" style=\"\">12,580 </span></span></span></span> -->\n");
      out.write("  \n");
      out.write("  <!-- <li class=\"display_배송비 xans-record- SP_dfList_deliveryInfo\" style=\"display: list-item;\">\n");
      out.write("  <span class=\"title\" style=\"\"><span style=\"\">배송비</span></span><span class=\"SP_detail_content\" style=\"\"><span style=\"\"><span class=\"delv_price_B\" style=\"\"><input id=\"delivery_cost_prepaid\" name=\"delivery_cost_prepaid\" value=\"P\" type=\"hidden\" style=\"\"><strong>3,000</strong> (50,000 이상 구매 시 무료)</span></span></span>\n");
      out.write("  </li> -->\n");
      out.write("                \n");
      out.write("  <div class=\"share_btn\">\n");
      out.write("    <span class=\"kakaoShare\" style=\"\"><img src=\"https://cdn-icons-png.flaticon.com/512/1828/1828960.png\"></span>\n");
      out.write("  </div>\n");
      out.write("  \n");
      out.write("</div> \n");
      out.write("              <!-------------------------- //상품 정보 호출 ---------------------------->\n");
      out.write("  \n");
      out.write("              <!-------------------------------------- 수량 ---------------------------------->\n");
      out.write("              <div class=\"SP_dtQuantity_wrap\">\n");
      out.write("                </div>\n");
      out.write("              <!-------------------------------------- 수량 ---------------------------------->\n");
      out.write("              <!------------------------- 개인결제창 네이버 마일리지 적립 사용 ------------------------------>\n");
      out.write("              <!-- <p class=\"displaynone\">\n");
      out.write("                <img src=\"//img.echosting.cafe24.com/skin/base_ko_KR/product/txt_naver.gif\" alt=\"개인결제창을 통한 결제 시 네이버 마일리지 적립 및 사용이 가능합니다.\">\n");
      out.write("              &nbsp;</p> -->\n");
      out.write("              <!------------------------- //개인결제창 네이버 마일리지 적립 사용 ------------------------------>\n");
      out.write("              <!------------------------- 옵션 출력 ------------------------------>\n");
      out.write("              \n");
      out.write("              <!------------------------- //옵션 출력 ------------------------------>\n");
      out.write("  \n");
      out.write("  \n");
      out.write("              <!-- 추가 구성 상품 -->\n");
      out.write("				<div class=\"xans-element- xans-product xans-product-addproduct SP_productAddSet_wrap view open\">\n");
      out.write("				    <div class=\"SP_prdAddSet_title\">\n");
      out.write("				        <h3>추가구성상품</h3>\n");
      out.write("				        <a href=\"javascript:void(0);\" class=\"SP_js_toggle_btn SP_prdAddSetToggle\"></a>\n");
      out.write("				    </div>\n");
      out.write("				    <ul class=\"SP_prdAddSetList_wrap\">\n");
      out.write("				        ");
      if (_jspx_meth_c_005fforEach_005f0(_jspx_page_context))
        return;
      out.write("</ul>\n");
      out.write("				</div>\n");
      out.write("\n");
      out.write("	 			 \n");
      out.write("				 <!-- <div class=\"xans-element- xans-product xans-product-addproduct SP_productAddSet_wrap view open\">\n");
      out.write("    <div class=\"SP_prdAddSet_title\">\n");
      out.write("        <h3>추가구성상품</h3>\n");
      out.write("        <a href=\"javascript:void(0);\" class=\"SP_js_toggle_btn SP_prdAddSetToggle\"></a>\n");
      out.write("    </div>\n");
      out.write("    <ul class=\"SP_prdAddSetList_wrap\" style=\"display: block;\"></ul> 추가 구성 상품이 여기에 동적으로 삽입될 것입니다\n");
      out.write("</div> -->\n");
      out.write("\n");
      out.write("<script>\n");
      out.write("$(document).ready(function () {\n");
      out.write("    // `추가` 버튼 클릭 이벤트 핸들러\n");
      out.write("    $(document).on('click', \".btn.add-opt-click a\", function () {\n");
      out.write("        var productId = $(this).data(\"id\");\n");
      out.write("        var productName = $(this).data(\"name\");\n");
      out.write("        var productPrice = $(this).data(\"price\");\n");
      out.write("\n");
      out.write("        // 쉼표 제거 후 숫자 변환\n");
      out.write("        var formattedPrice = Number(String(productPrice).replace(/,/g, \"\")) || 0;\n");
      out.write("\n");
      out.write("        // 콘솔에 데이터 확인\n");
      out.write("        console.log(\"Product ID:\", productId);\n");
      out.write("        console.log(\"Product Name:\", productName);\n");
      out.write("        console.log(\"Product Price:\", productPrice);\n");
      out.write("\n");
      out.write("        // 회색 영역에 해당 상품이 이미 추가되었는지 확인\n");
      out.write("        if ($(\".add_product[data-option-add-index='\" + productId + \"']\").length > 0) {\n");
      out.write("            alert(\"해당 옵션이 이미 추가되었습니다.\");\n");
      out.write("            return; // 중복된 경우 추가하지 않음\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        // 동적으로 회색 영역에 추가할 상품 HTML 템플릿\n");
      out.write("        var additionalProductHtml = `\n");
      out.write("            <div class=\"add_product\" data-option-add-index=\"${productId}\">\n");
      out.write("                <div class=\"product\">\n");
      out.write("                    <p>${productName}<br> - <span style=\"display: inline;\">${productName}</span></p>\n");
      out.write("                </div>\n");
      out.write("                <div class=\"quantity\">\n");
      out.write("                    <a href=\"javascript:void(0);\" id=\"selectedDown\" class=\"down eAddProductQuantityDownClass\" data-target=\"option_add_box${productId}_down\">-</a>\n");
      out.write("                    <input type=\"text\" id=\"option_add_box${productId}_quantity\" name=\"quantity_opt[]\" class=\"quantity_opt eAddProductQuantityClass\" value=\"1\" product-id=\"${productId}\" readonly>\n");
      out.write("                    <a href=\"javascript:void(0);\" id=\"selectedUp\" class=\"up eAddProductQuantityUpClass\" data-target=\"option_add_box${productId}_up\">+</a>\n");
      out.write("                </div>\n");
      out.write("                <div class=\"right\">\n");
      out.write("                    <span id=\"option_add_box$\\{productId}_price\">\n");
      out.write("                        <input type=\"hidden\" class=\"add_product_option_box_price\" value=\"${productPrice}\" product-id=\"${productId}\">\n");
      out.write("                        <span class=\"ec-front-product-item-price\" product-id=\"${productId}\">${formattedPrice.toLocaleString()}</span>원\n");
      out.write("                    </span>\n");
      out.write("                </div>\n");
      out.write("                <div class=\"delete\" onclick=\"removeProduct(${productId})\">\n");
      out.write("                    ×\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("        `;\n");
      out.write("\n");
      out.write("        // 회색 영역에 추가구성상품 삽입\n");
      out.write("        $(\"#additional-product-list\").append(additionalProductHtml);\n");
      out.write("        $(\"#btnTotalAmountUpdate\").click();\n");
      out.write("        lastPriceFunc();\n");
      out.write("    });\n");
      out.write("});\n");
      out.write("\n");
      out.write("// 선택된 상품 삭제 함수\n");
      out.write("function removeProduct(productId) {\n");
      out.write("    $(\"tr[data-option-add-index='\" + productId + \"']\").remove();\n");
      out.write("}\n");
      out.write("</script>\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("<table class=\"add_products\" style=\"width: 100%\">\n");
      out.write("    <tbody id=\"additional-product-list\"></tbody>\n");
      out.write("</table>\n");
      out.write("\n");
      out.write("\n");
      out.write("<script>				 \n");
      out.write("    // 추가 구성상품 토글 function\n");
      out.write("	document.querySelector(\".SP_prdAddSetToggle\").onclick = function() {\n");
      out.write("	    var element = document.querySelector(\".SP_prdAddSetList_wrap\");\n");
      out.write("	    if (element.style.display === \"none\" || element.style.display === \"\") {\n");
      out.write("	        element.style.display = \"block\";  // 보이게 설정\n");
      out.write("	    } else {\n");
      out.write("	        element.style.display = \"none\";   // 숨기기\n");
      out.write("	    }\n");
      out.write("	};\n");
      out.write("\n");
      out.write("	// 선택상품 삭제 function\n");
      out.write("	$(document).on(\"click\", \".delete\", function() {\n");
      out.write("	    $(this).closest(\".add_product\").remove();\n");
      out.write("	    $(\"#btnTotalAmountUpdate\").click();\n");
      out.write("	    lastPriceFunc();\n");
      out.write("	});\n");
      out.write("	\n");
      out.write("	// 특정 class로 input값 가져오기 (배열로 반환)\n");
      out.write("	var quantityInputs = document.querySelectorAll(\".quantity_opt\");\n");
      out.write("\n");
      out.write("	quantityInputs.forEach(function(input) {\n");
      out.write("	    console.log(\"input 총 갯수\" + input.value); // 각 input의 값을 출력\n");
      out.write("	});\n");
      out.write("  </script>\n");
      out.write("  \n");
      out.write("  \n");
      out.write("\n");
      out.write("\n");
      out.write("  \n");
      out.write("              <!----------------------------------- 선택 상품 출력 영역 ----------------------------------->\n");
      out.write("              <div id=\"totalProducts\" class=\"SP_totalProducts\">\n");
      out.write("                <table border=\"0\" summary=\"\">\n");
      out.write("  </table>\n");
      out.write("  </div>\n");
      out.write("              <!----------------------------------- //선택 상품 출력 영역 ----------------------------------->\n");
      out.write("              <!----------------------------------- 최종 금액 ----------------------------------->\n");
      out.write("			  \n");
      out.write("\n");
      out.write("\n");
      out.write("              <div id=\"totalPrice\" class=\"SP_totalPrice\">\n");
      out.write("				    총 상품금액 (개수) : <span class=\"total SP_totalPriceNum\"><strong><em id=\"totalAmount\">0원</em></strong> <em id=\"totalQuantity\">(0개)</em></span>\n");
      out.write("				</div>			\n");
      out.write("				\n");
      out.write("\n");
      out.write("<script>\n");
      out.write("//추가상품 기능\n");
      out.write("//수량 증가 및 감소 기능\n");
      out.write("	$(document).on(\"click\", \"#selectedDown\", function () {\n");
      out.write("		\n");
      out.write("	    const nextElement = $(this).next();\n");
      out.write("	    let value = parseInt(nextElement.val(), 10); // 값 가져오기 및 숫자로 변환\n");
      out.write("	    //console.log(\"값 확인 : \" + value); // 값 확인용\n");
      out.write("	    \n");
      out.write("	    if(value > 1){\n");
      out.write("	    	value = value - 1;\n");
      out.write("	    	nextElement.val(value); // 증가된 값을 다시 설정\n");
      out.write("	    }else{\n");
      out.write("	    	alert(\"최소 주문수량은 1개입니다.\");\n");
      out.write("	    }\n");
      out.write("	    \n");
      out.write("	 	// 현재 클릭된 버튼의 상품 정보를 가져옴\n");
      out.write("	    let productContainer = $(this).closest(\".add_product\"); // 상품 전체 컨테이너를 기준으로 접근\n");
      out.write("	    let optionProductPrice = parseInt(productContainer.find(\"input[type='hidden'].add_product_option_box_price\").val().replace(/,/g, \"\")) || 0;;\n");
      out.write("	    let optionAmount = parseInt(productContainer.find(\"input[type='text'][name='quantity_opt[]']\").val().replace(/,/g, \"\")) || 0;;\n");
      out.write("\n");
      out.write("	    // 총 가격 계산\n");
      out.write("	    let totalOptionProductPrice = optionProductPrice * optionAmount;\n");
      out.write("\n");
      out.write("	    // 현재 상품의 가격 업데이트\n");
      out.write("	    productContainer.find(\".ec-front-product-item-price\").text(totalOptionProductPrice.toLocaleString());\n");
      out.write("	    \n");
      out.write("	    $(\"#btnTotalAmountUpdate\").click();\n");
      out.write("	    lastPriceFunc();\n");
      out.write("	    \n");
      out.write("	});\n");
      out.write("	\n");
      out.write("	\n");
      out.write("	$(document).on(\"click\", \"#selectedUp\", function () {\n");
      out.write("		\n");
      out.write("		const prevElement = $(this).prev();\n");
      out.write("		let value = parseInt(prevElement.val(),10);\n");
      out.write("		//console.log(\"값 확인 : \" + value); // 값 확인용\n");
      out.write("		if(value >= 1){\n");
      out.write("			value = value + 1;\n");
      out.write("			prevElement.val(value);\n");
      out.write("		}\n");
      out.write("		\n");
      out.write("		// 현재 클릭된 버튼의 상품 정보를 가져옴\n");
      out.write("	    let productContainer = $(this).closest(\".add_product\"); // 상품 전체 컨테이너를 기준으로 접근\n");
      out.write("	    let optionProductPrice = parseInt(productContainer.find(\"input[type='hidden'].add_product_option_box_price\").val().replace(/,/g, \"\")) || 0;;\n");
      out.write("	    let optionAmount = parseInt(productContainer.find(\"input[type='text'][name='quantity_opt[]']\").val().replace(/,/g, \"\")) || 0;;\n");
      out.write("\n");
      out.write("	    // 총 가격 계산\n");
      out.write("	    let totalOptionProductPrice = optionProductPrice * optionAmount;\n");
      out.write("\n");
      out.write("	    // 현재 상품의 가격 업데이트\n");
      out.write("	    productContainer.find(\".ec-front-product-item-price\").text(totalOptionProductPrice.toLocaleString());\n");
      out.write("	    \n");
      out.write("	    $(\"#btnTotalAmountUpdate\").click();\n");
      out.write("	    lastPriceFunc();\n");
      out.write("	    \n");
      out.write("	});\n");
      out.write("	\n");
      out.write("	\n");
      out.write("	\n");
      out.write("	\n");
      out.write("	\n");
      out.write("	let allOptionsTotalPrice = 0; // 전역 변수로 초기화\n");
      out.write("\n");
      out.write("	// 메인 상품 금액 변경\n");
      out.write("	let mainProductPrice = 0; // 메인 상품 1개 값\n");
      out.write("	let mainProductQuantity = 0; // 메인 상품 수량\n");
      out.write("	let totalMainProductPrice = 0; // 메인 상품 총 금액\n");
      out.write("	let safeMainProductQuantity; // null 체크한 메인 상품 수량\n");
      out.write("\n");
      out.write("	// 메인 상품 정보 가져오기\n");
      out.write("	\n");
      out.write("	\n");
      out.write("	function calculateMainProductTotalPrice() {\n");
      out.write("		mainProductPrice = 0;\n");
      out.write("		mainProductQuantity = 0; \n");
      out.write("		totalMainProductPrice = 0;\n");
      out.write("		\n");
      out.write("		mainProductPrice = parseInt($(\".salesPrice\").text().replace(/,/g, '')) || 0;\n");
      out.write("		//mainProductQuantity = parseInt($(\"#option_main_quantity\").val().replace(/,/g, '')) || 0;\n");
      out.write("		safeMainProductQuantity = $(\"#option_main_quantity\").val() ? parseInt($(\"#option_main_quantity\").val().replace(/,/g, '')) : 0;\n");
      out.write("		\n");
      out.write("		totalMainProductPrice = safeMainProductQuantity * mainProductPrice;\n");
      out.write("	}\n");
      out.write("	\n");
      out.write("	\n");
      out.write("\n");
      out.write("	// 추가 상품 금액 변경\n");
      out.write("	let optionProductPrice = 0; // 옵션 상품 각각의 금액\n");
      out.write("	let optionAmount = 0; // 옵션 상품 각각의 수량\n");
      out.write("	let totalOptionProductPrice = 0; // 옵션 상품 각각의 총 금액 (금액 x 수량)\n");
      out.write("	let safeOptionProductPrice; // null 체크한 옵션 상품 각각의 금액\n");
      out.write("\n");
      out.write("	// 추가 상품 가격 가져오기\n");
      out.write("	//optionProductPrice = parseInt($(\"input[type='hidden'].add_product_option_box_price\").val().replace(/,/g, '')) || 0;\n");
      out.write("	optionAmount = parseInt($(\"input[type='text'][name='quantity_opt[]']\").val()) || 0;\n");
      out.write("	totalOptionProductPrice = safeOptionProductPrice * optionAmount;\n");
      out.write("	safeOptionProductPrice = $(\"input[type='hidden'].add_product_option_box_price\").val() ? parseInt($(\"input[type='hidden'].add_product_option_box_price\").val().replace(/,/g, '')) : 0;\n");
      out.write("\n");
      out.write("	\n");
      out.write("	\n");
      out.write("	// 추가 상품의 총 금액을 표시\n");
      out.write("	$(\".ec-front-product-item-price\").text(totalOptionProductPrice.toLocaleString());\n");
      out.write("\n");
      out.write("	// 모든 선택된 추가 상품의 총 가격의 합을 계산하는 함수\n");
      out.write("	function calculateAllOptionsTotalPrice() {\n");
      out.write("	    allOptionsTotalPrice = 0; // 초기화하여 이전 값 누적 방지\n");
      out.write("	    $(\".ec-front-product-item-price\").each(function() {\n");
      out.write("	        allOptionsTotalPrice += parseInt($(this).text().replace(/,/g, '')) || 0;\n");
      out.write("	    });\n");
      out.write("	}\n");
      out.write("	\n");
      out.write("	\n");
      out.write("\n");
      out.write("	// 전체 합산 금액 계산 함수\n");
      out.write("	function lastPriceFunc() {\n");
      out.write("	    \n");
      out.write("		// 메인 상품 총 가격 \n");
      out.write("		calculateMainProductTotalPrice();\n");
      out.write("	    // 모든 옵션 가격 합을 다시 계산\n");
      out.write("	    calculateAllOptionsTotalPrice();\n");
      out.write("\n");
      out.write("	    // 전체 합산 금액 계산\n");
      out.write("	    let lastPrice = totalMainProductPrice + allOptionsTotalPrice;\n");
      out.write("\n");
      out.write("	    // 결과를 표시\n");
      out.write("	    $(\"#totalAmount\").text(lastPrice.toLocaleString() + \"원\");\n");
      out.write("\n");
      out.write("	    console.log(\"메인 상품 총 금액:\", totalMainProductPrice);\n");
      out.write("	    console.log(\"옵션 상품 총 금액 합:\", allOptionsTotalPrice);\n");
      out.write("	    console.log(\"최종 총 금액:\", lastPrice);\n");
      out.write("	    \n");
      out.write("	}\n");
      out.write("\n");
      out.write("	// 문서 로드 시 초기 계산 실행\n");
      out.write("	$(document).ready(function() {\n");
      out.write("    	lastPriceFunc();\n");
      out.write("	});\n");
      out.write("\n");
      out.write("\n");
      out.write("</script>\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("              <!----------------------------------- //최종 금액 ----------------------------------->\n");
      out.write("              <!----------------------------------- SP_detailBuyBn_wrap ----------------------------------->\n");
      out.write("                          <!----------------------------------- //SP_detailBuyBn_wrap ----------------------------------->\n");
      out.write("              <!-- 상세페이지 배너 -->\n");
      out.write("              <!--<img src=\"/web/_event/0427_event8ver3/PC_detail_app.jpg\"/>-->\n");
      out.write("              <!--<a href=\"/product/list.html?cate_no=120\"><img src=\"/web/_event/0427_event8ver3/PC_detail_app6.jpg\"/></a>-->\n");
      out.write("              <!----------------------------------- 액션 버튼 영역 ----------------------------------->\n");
      out.write("				<div class=\"action_btn_wrap\">\n");
      out.write("					<div class=\"xans-element- xans-product xans-product-action \"\n");
      out.write("						style=\"width: 100%;\">\n");
      out.write("						<div class=\"SP_totalPrdOrderBtn_wrap\">\n");
      out.write("							<!-- //바로 구매 버튼 -->\n");
      out.write("							<a href=\"#none\" class=\"SP_cm_btn SP_btn_black_bg SP_buyBtn \"><span\n");
      out.write("								id=\"btnBuy\">바로 구매</span></a>\n");
      out.write("							<!-- //바로 구매 버튼 -->\n");
      out.write("							<!-- 장바구니 버튼 -->\n");
      out.write("							");
      if (_jspx_meth_sec_005fauthorize_005f0(_jspx_page_context))
        return;
      if (_jspx_meth_sec_005fauthorize_005f1(_jspx_page_context))
        return;
      out.write("<!-- // 장바구니 버튼 -->\n");
      out.write("						</div>\n");
      out.write("						<div id=\"appPaymentButtonBox\"\n");
      out.write("							style=\"margin: 20px auto 0; display: inline-flex; flex-wrap: wrap; gap: 10px;\">\n");
      out.write("							<div id=\"kakao-checkout-button\"></div>\n");
      out.write("						</div>\n");
      out.write("					</div>\n");
      out.write("\n");
      out.write("				</div>\n");
      out.write("\n");
      out.write("				<!----------------------------------- //액션 버튼 영역 ----------------------------------->\n");
      out.write("  <script>\n");
      out.write("  /* 바로구매 버튼 클릭 시 */\n");
      out.write("  $(document).on('click', 'a.SP_cm_btn.SP_btn_black_bg.SP_buyBtn', function(event) {\n");
      out.write("    event.preventDefault(); // 기본 링크 동작을 막음\n");
      out.write("    \n");
      out.write("    if ($(\"#option_main_quantity\").length > 0) {\n");
      out.write("    	const mainValue = $(\"#option_main_quantity\").val();\n");
      out.write("    	const mainProductId = $(\"#option_main_quantity\").attr('product-id');\n");
      out.write("    	\n");
      out.write("    	console.log(mainValue, mainProductId);\n");
      out.write("    	\n");
      out.write("    	let queryParams = `pdtId=${mainProductId}&pdtCount=${mainValue}`;\n");
      out.write("    	\n");
      out.write("    	const values = $(\"input[type='text'][name='quantity_opt[]']\").map(function() {\n");
      out.write("            return $(this).val();\n");
      out.write("        }).get();\n");
      out.write("        \n");
      out.write("        const productIds = $(\"input[type='text'][name='quantity_opt[]']\").map(function() {\n");
      out.write("            return $(this).attr('product-id');\n");
      out.write("        }).get();\n");
      out.write("        \n");
      out.write("        productIds.forEach((id, index) => {\n");
      out.write("            const value = values[index];\n");
      out.write("            if (queryParams.length > 0) {\n");
      out.write("                queryParams += \"&\"; // 각 파라미터를 연결하기 위한 구분자\n");
      out.write("            }\n");
      out.write("            queryParams += `pdtId=${encodeURIComponent(id)}&pdtCount=${encodeURIComponent(value)}`;\n");
      out.write("        });\n");
      out.write("        console.log(queryParams);\n");
      out.write("         \n");
      out.write("     	// 동적으로 href 속성 설정\n");
      out.write("        const fullUrl = `/projectOhora/product/orderpage.do?${queryParams}`;\n");
      out.write("        $(this).attr('href', fullUrl);\n");
      out.write("\n");
      out.write("        // 기본 링크 동작을 막았기 때문에 원래 동작을 실행시켜 주기\n");
      out.write("        window.location.href = fullUrl;\n");
      out.write("        \n");
      out.write("    } else {\n");
      out.write("    	const values = $(\"input[type='text'][name='quantity_opt[]']\").map(function() {\n");
      out.write("            return $(this).val();\n");
      out.write("        }).get();\n");
      out.write("        \n");
      out.write("        const productIds = $(\"input[type='text'][name='quantity_opt[]']\").map(function() {\n");
      out.write("            return $(this).attr('product-id');\n");
      out.write("        }).get();\n");
      out.write("        \n");
      out.write("        console.log(productIds, values);\n");
      out.write("        \n");
      out.write("        \n");
      out.write("        // 파라미터 형식으로 이어붙이기\n");
      out.write("        let queryParams = \"\";\n");
      out.write("\n");
      out.write("        productIds.forEach((id, index) => {\n");
      out.write("            const value = values[index];\n");
      out.write("            if (queryParams.length > 0) {\n");
      out.write("                queryParams += \"&\"; // 각 파라미터를 연결하기 위한 구분자\n");
      out.write("            }\n");
      out.write("            queryParams += `pdtId=${encodeURIComponent(id)}&pdtCount=${encodeURIComponent(value)}`;\n");
      out.write("        });\n");
      out.write("        console.log(queryParams);\n");
      out.write("\n");
      out.write("        \n");
      out.write("        // 동적으로 href 속성 설정\n");
      out.write("        const fullUrl = `/projectOhora/product/orderpage.do?${queryParams}`;\n");
      out.write("        $(this).attr('href', fullUrl);\n");
      out.write("\n");
      out.write("        // 기본 링크 동작을 막았기 때문에 원래 동작을 실행시켜 주기\n");
      out.write("        window.location.href = fullUrl;\n");
      out.write("        \n");
      out.write("    }\n");
      out.write("    \n");
      out.write("    \n");
      out.write("\n");
      out.write("    \n");
      out.write(" 	\n");
      out.write("});\n");
      out.write("\n");
      out.write("\n");
      out.write("  </script>\n");
      out.write("  \n");
      out.write("\n");
      out.write("              </div>\n");
      out.write("              <!------------------------- 배송 정보 / 오늘 도착 팝업------------------------------>\n");
      out.write("              <div class=\"deliver_con\">\n");
      out.write("						<table>\n");
      out.write("							<tbody class=\"delvtype\">\n");
      out.write("								<tr class=\"\">\n");
      out.write("									<th scope=\"row\">기본배송</th>\n");
      out.write("									<td class=\"delv_price\">\n");
      out.write("										<div>기본 3,000원 (5만원 이상 구매 시 무료)</div>\n");
      out.write("										<div>제주 및 특수 도서 산간 지역 3,000원 추가</div>\n");
      out.write("									</td>\n");
      out.write("								</tr>\n");
      out.write("							</tbody>\n");
      out.write("						</table>\n");
      out.write("			  </div>\n");
      out.write(" \n");
      out.write("              </div>\n");
      out.write("              <!------------------------- //배송 정보 / 오늘 도착 팝업------------------------------>\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("        </div>\n");
      out.write("  <!------------------------------ //SP_detailArea_wrap -------------------------------->\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("  </div>\n");
      out.write("      <!------------------------------ //product_detail 모듈 -------------------------------->\n");
      out.write("    </div>\n");
      out.write("\n");
      out.write("\n");
      out.write("      </div>\n");
      out.write("      <!------------------------------ //쿠폰 다운로드 -------------------------------->\n");
      out.write("    </div>\n");
      out.write("    <!------------------------------ //레이아웃 -------------------------------->\n");
      out.write("    <!------------------------------ SP_detailRelationPrd_wrap -------------------------------->\n");
      out.write("    <!------------------------------ 레이아웃 -------------------------------->\n");
      out.write("    <div class=\"SP_detailLayout\" style=\"max-width: 1050px; margin: 0 auto;\">\n");
      out.write("      <!------------------------------ product_additional -------------------------------->\n");
      out.write("      <div class=\"xans-element- xans-product xans-product-additional \"><!------------------------------ 리뷰 -------------------------------->\n");
      out.write("      <div id=\"prdReview\" class=\"ec-base-tab grid5\">\n");
      out.write("          <!-------------------- 탭 영역 ------------------------->\n");
      out.write("          <ul class=\"SP_detailPrdTab_wrap\">\n");
      out.write("      <li class=\"selected\">\n");
      out.write("              <a href=\"#prdReview\">리뷰 <b class=\"Brev crema-product-reviews-count crema-applied\" data-product-code=\"2101\" data-format=\"({{{count}}})\" data-install-method=\"hardcoded\" data-observed-install=\"false\" data-applied-widgets=\"[&quot;.crema-product-reviews-count&quot;]\">(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtReviewCount}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")</b></a>\n");
      out.write("            </li>\n");
      out.write("            <li><a href=\"#prdDetail\">상세정보</a></li>\n");
      out.write("            <!--li><a href=\"#recmdPrdWiget\" class=\"best_design\">추천디자인</a></li-->\n");
      out.write("            <li><a href=\"#prdQnA\">쇼핑안내</a></li>\n");
      out.write("            <!--li><a href=\"#prdFAQ\">FAQ</a></li-->\n");
      out.write("          </ul>\n");
      out.write("      <!-------------------- //탭 영역 ------------------------->\n");
      out.write("      <div class=\"SP_detailContainer\">\n");
      out.write("            <div class=\"SP_detailContants\">\n");
      out.write("              <div class=\"SP_detailBoard_wrap\">\n");
      out.write("                <!-- <div class=\"review_img\"><img src=\"/web/upload/review/reviewPlus_2.png\"></div> -->\n");
      out.write("                <!-- cre.ma / 리스트 위젯 / 스크립트를 수정할 경우 연락주세요 (support@cre.ma) -->\n");
      out.write("                <style>\n");
      out.write("                  #prdReview .nodata {\n");
      out.write("                    display: none;\n");
      out.write("                  }\n");
      out.write("                </style>\n");
      out.write("    \n");
      out.write("      <div class=\"SP_dtailReveiwBoard_wrap\">\n");
      out.write("          <div class=\"RV_wrap\" style=\"margin-top: 32px; margin-bottom: 32px; \">\n");
      out.write("          	<div class=\"RV_box\">\n");
      out.write("          	\n");
      out.write("          	<iframe src=\"/review.htm?pdt_id=");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\" style=\"    display: block; visibility: visible; height: 1407px; width: 100%; iframe::-webkit-scrollbar{ }\"  >\n");
      out.write("          	</iframe>\n");
      out.write("          	 \n");
      out.write("          	</div>\n");
      out.write("          </div>\n");
      out.write("      </div>\n");
      out.write("      </div>\n");
      out.write("                <div class=\"SP_tableBtn_wrap crema-hide crema-applied\" data-install-method=\"hardcoded\" data-observed-install=\"false\" data-applied-widgets=\"[&quot;.crema-hide, .crema-review-hide&quot;]\" style=\"display: none;\">\n");
      out.write("                  <div class=\"SP_tableBtnAlign_right\">\n");
      out.write("                    <a href=\"/board/product/list.html?board_no=4\" class=\"SP_cm_btn SP_btn_black_w2_bd\">모두보기</a>\n");
      out.write("                    <!-- <a href=\"/board/product/write.html?board_no=4&product_no=2101&cate_no=121&display_group=1\" class=\"SP_cm_btn SP_btn_blue_bg\">글쓰기</a> -->\n");
      out.write("                  </div>\n");
      out.write("                </div>\n");
      out.write("                \n");
      out.write("              </div>\n");
      out.write("            </div>\n");
      out.write("          </div>\n");
      out.write("        </div>\n");
      out.write("      <!------------------------------ //리뷰 -------------------------------->\n");
      out.write("      <!------------------------------ 상품 상세 정보 -------------------------------->\n");
      out.write("      <!-------------------- 탭 영역 ------------------------->\n");
      out.write("      <ul class=\"SP_detailPrdTab_wrap\">\n");
      out.write("        <li>\n");
      out.write("    <a href=\"#prdReview\">리뷰 <b class=\"Brev crema-product-reviews-count crema-applied\" data-product-code=\"2101\" data-format=\"({{{count}}})\" data-install-method=\"hardcoded\" data-observed-install=\"false\" data-applied-widgets=\"[&quot;.crema-product-reviews-count&quot;]\">(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtReviewCount}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")</b></a>\n");
      out.write("        </li>\n");
      out.write("        <li class=\"selected\"><a href=\"#prdDetail\">상세정보</a></li>\n");
      out.write("        <!--li><a href=\"#recmdPrdWiget\" class=\"best_design\">추천디자인</a></li-->\n");
      out.write("        <li><a href=\"#prdQnA\">쇼핑안내</a></li>\n");
      out.write("        <!--li><a href=\"#prdFAQ\">FAQ</a></li-->\n");
      out.write("      </ul>\n");
      out.write("      <!-------------------- //탭 영역 ------------------------->\n");
      out.write("    \n");
      out.write("      \n");
      out.write("          <!-- 여기에 상품 설명 이미지 -->\n");
      out.write("          <div id=\"prdDetail\" class=\"ec-base-tab grid5\">\n");
      out.write("          	<div id=\"prdDetailinner\" class=\"ec-base-tab grid6\">\n");
      out.write("          		<img loading=\"lazy\" src=\"https://www.ohora.kr/smartpc/_img/common/_detail/notice_final.jpg\">\n");
      out.write("          		<img loading=\"lazy\" src=\"https://www.ohora.kr/optimize/images/pc/detail/nail_Info.webp\">\n");
      out.write("          	</div>\n");
      out.write("          </div>\n");
      out.write("      \n");
      out.write("            \n");
      out.write("              <!------------------------------ //상품 상세 정보 -------------------------------->\n");
      out.write("              <!--함께 많이 구매한 디자인, 크루 추천 영역 리뷰 하단으로 이동--->\n");
      out.write("              \n");
      out.write("              \n");
      out.write("              \n");
      out.write("              <!------------------------------------ 함께 많이 구매한 디자인 -------------------------------------->\n");
      out.write("\n");
      out.write("			<div class=\"designBuyingWith\">\n");
      out.write("				<div class=\"textArea\">\n");
      out.write("					<h3>\n");
      out.write("						<strong>함께 많이 구매한 디자인</strong>\n");
      out.write("					</h3>\n");
      out.write("				</div>\n");
      out.write("\n");
      out.write("				<div class=\"common_list_box\">\n");
      out.write("					<div class=\"swiper-container swiper mySwiper\">\n");
      out.write("						<ul class=\"items-swiper-wrapper2 swiper-wrapper\">\n");
      out.write("\n");
      out.write("\n");
      out.write("						</ul>\n");
      out.write("\n");
      out.write("						<div class=\"swiper-scrollbar\"></div>\n");
      out.write("\n");
      out.write("					</div>\n");
      out.write("					<!-- 스와이퍼 컨테이너 -->\n");
      out.write("\n");
      out.write("				</div>\n");
      out.write("\n");
      out.write("\n");
      out.write("			</div>\n");
      out.write("\n");
      out.write("\n");
      out.write("			<script type=\"text/javascript\">\n");
      out.write("                const monthlyProductList = [\n");
      out.write("                    ");
      if (_jspx_meth_c_005fforEach_005f1(_jspx_page_context))
        return;
      out.write("\n");
      out.write("                ];\n");
      out.write("                console.log(\"Monthly Product List:\", monthlyProductList);\n");
      out.write("            \n");
      out.write("                function createMonthlyProductItem(product) {\n");
      out.write("                    return `\n");
      out.write("                        <li id=\"item${product.id}\" class=\"item-swiper-slide swiper-slide\">\n");
      out.write("            <div class=\"container-complete\" data-prd-num=\"${product.id}\">\n");
      out.write("                <dl>\n");
      out.write("                    <a href=\"/projectOhora/product/view.do?product_id=${product.id}\" class=\"viewlink\"></a>\n");
      out.write("                    <div class=\"base-img\">\n");
      out.write("                        <div class=\"thumb\">\n");
      out.write("                            <img loading=\"lazy\" alt=\"\" class=\"thumb_img\" width=\"800\" height=\"800\" src=\"${product.imgUrl}\">\n");
      out.write("                        </div>\n");
      out.write("                        <span class=\"soldout-img\" style=\"display: none\">\n");
      out.write("                            <a href=\"/projectOhora/product/view.do?product_id=${product.id}\">\n");
      out.write("                                <span>coming<br>soon</span>\n");
      out.write("                            </a>\n");
      out.write("                        </span>\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"base-mask\">\n");
      out.write("                        <dd class=\"name-container\">\n");
      out.write("                            <p class=\"name\"><span>${product.name}</span></p>\n");
      out.write("                        </dd>\n");
      out.write("                        <dd class=\"price-container\">\n");
      out.write("                            <p class=\"normal-price\">${product.normalPrice.toLocaleString()}</p>\n");
      out.write("                            <p class=\"sale-price\">${product.salePrice.toLocaleString()}</p>\n");
      out.write("                            <p class=\"discount\">${product.discount}%</p>\n");
      out.write("                        </dd>\n");
      out.write("                        <dd class=\"prdRegiDate\">등록일</dd>\n");
      out.write("                        <div class=\"prdInfoBot\">\n");
      out.write("                            <div class=\"rvCount\">\n");
      out.write("                                <div class=\"rvWrap\">\n");
      out.write("                                    <p class=\"rv_count_wrap\"><span class=\"rv_count_value\">${product.reviewCount}</span></p>\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"into_cart\">\n");
      out.write("                            <img class=\"cart_icon\" src=\"https://img.echosting.cafe24.com/design/skin/admin/ko_KR/btn_list_cart.gif\" alt=\"카트 아이콘\" onclick=\"addToCart(${product.id})\">\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"only_info_dispNone\">\n");
      out.write("                            <span style=\"font-size:12px;color:#555555;\">#네일 #젤스트립 #핑크 #프렌치 #자석 #글리터 #골드</span>\n");
      out.write("                        </div>\n");
      out.write("                    </div>\n");
      out.write("                </dl>\n");
      out.write("            </div>\n");
      out.write("                        </li>\n");
      out.write("                    `;\n");
      out.write("                }\n");
      out.write("            \n");
      out.write("                function renderMonthlyProductList(productList) {\n");
      out.write("                    const productContainer = document.querySelector(\".items-swiper-wrapper2\");\n");
      out.write("                    if (!productContainer) {\n");
      out.write("                        console.error(\"Error: .items-swiper-wrapper2 요소를 찾을 수 없습니다.\");\n");
      out.write("                        return;\n");
      out.write("                    }\n");
      out.write("                    productList.forEach(product => {\n");
      out.write("                        productContainer.innerHTML += createMonthlyProductItem(product);\n");
      out.write("                    });\n");
      out.write("                }\n");
      out.write("            \n");
      out.write("                document.addEventListener(\"DOMContentLoaded\", function() {\n");
      out.write("                    renderMonthlyProductList(monthlyProductList);\n");
      out.write("                });\n");
      out.write("            </script>\n");
      out.write("            \n");
      out.write("              <!------------------------------------  //함께 많이 구매한 디자인 -------------------------------------->\n");
      out.write("              <!---------------------------------------- 오호라 크루 추천 ------------------------------------------->\n");
      out.write("            	<div class=\"prdDetail_crew not_slide\">\n");
      out.write("            		<!--오호라 크루 추천-->\n");
      out.write("            		<div class=\"common_reco_section recommend_crew swiper-container\">\n");
      out.write("            			<h3>오호라 크루 추천</h3>\n");
      out.write("            			<div df-banner-code=\"common-recommend\"\n");
      out.write("            				class=\"recommend_banner_wrap swiper-wrapper df-bannermanager df-bannermanager-common-recommend\">\n");
      out.write("            				<div df-banner-clone=\"\" class=\"SP_eventBn_li swiper-slide\">\n");
      out.write("            					<a\n");
      out.write("            						href=\"https://events.payco.com/web/share.nhn?evntPageNm=75c7Pl3&amp;pubCode=PUBSTJUOE9\"><div\n");
      out.write("            							class=\"imgBox\">\n");
      out.write("            							<img\n");
      out.write("            								src=\"	https://www.ohora.kr/web/upload/appfiles/ZaReJam3QiELznoZeGGkMG/94fad6d6474acf635b9c771591480a7c.png\"\n");
      out.write("            								alt=\"페이코 상시 12% 할인\">\n");
      out.write("            						</div>\n");
      out.write("            						<div class=\"txtBox\">페이코 상시 12% 할인</div></a>\n");
      out.write("            				</div>\n");
      out.write("            				<div df-banner-clone=\"\" class=\"SP_eventBn_li swiper-slide\">\n");
      out.write("            					<a\n");
      out.write("            						href=\"https://play.google.com/store/apps/details?id=com.cafe24.ec.plusohora2019\"><div\n");
      out.write("            							class=\"imgBox\">\n");
      out.write("            							<img\n");
      out.write("            								src=\"https://www.ohora.kr/web/upload/appfiles/ZaReJam3QiELznoZeGGkMG/4cd90f97beaaeddde49bbad02da10bc5.webp\"\n");
      out.write("            								alt=\"앱 다운 시 무료배송\">\n");
      out.write("            						</div>\n");
      out.write("            						<div class=\"txtBox\">앱 다운 시 무료배송</div></a>\n");
      out.write("            				</div>\n");
      out.write("            				<div df-banner-clone=\"\" class=\"SP_eventBn_li swiper-slide\">\n");
      out.write("            					<a href=\"https://www.ohora.kr/event/event6.html\">\n");
      out.write("            					<div class=\"imgBox\">\n");
      out.write("            							<img\n");
      out.write("            								src=\"https://www.ohora.kr/web/upload/appfiles/ZaReJam3QiELznoZeGGkMG/0b48933209882b54093f40d23cb23246.webp\"\n");
      out.write("            								alt=\"신규회원 젤램프 증정\">\n");
      out.write("            					</div>\n");
      out.write("            						<div class=\"txtBox\">신규회원 젤램프 증정</div>\n");
      out.write("            				</div>\n");
      out.write("            			</div>\n");
      out.write("            			<!-- Add Pagination -->\n");
      out.write("            			<div class=\"swiper-scrollbar\"></div>\n");
      out.write("            		</div>\n");
      out.write("            	</div>\n");
      out.write("            						<!--// 오호라 크루 추천-->\n");
      out.write("              <!--------------------------------------// 오호라 크루 추천 ------------------------------------------->\n");
      out.write("              <!-------------------- 탭 영역 ------------------------->\n");
      out.write("              <ul class=\"SP_detailPrdTab_wrap\">\n");
      out.write("                <li>\n");
      out.write("                  <a href=\"#prdReview\">리뷰 <b class=\"Brev crema-product-reviews-count crema-applied\" data-product-code=\"2101\" data-format=\"({{{count}}})\" data-install-method=\"hardcoded\" data-observed-install=\"false\" data-applied-widgets=\"[&quot;.crema-product-reviews-count&quot;]\">(");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtReviewCount}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(")</b></a>\n");
      out.write("                </li>\n");
      out.write("                <li><a href=\"#prdDetail\">상세정보</a></li>\n");
      out.write("                <li class=\"selected\"><a href=\"#prdQnA\">쇼핑안내</a></li>\n");
      out.write("              </ul>       \n");
      out.write("              <!-------------------- //탭 영역 ------------------------->\n");
      out.write("              <div id=prdQnA class=\"SP_detailContainer\">\n");
      out.write("                          <div class=\"SP_detailContants\">\n");
      out.write("            <div class=\"SP_detailBoard_wrap\">\n");
      out.write("              <h3 class=\"infoTit\">배송안내</h3>\n");
      out.write("              <!--\n");
      out.write("                            <table class=\"infoTbl\">\n");
      out.write("                                <colgroup>\n");
      out.write("                                    <col width=\"215px\"/>\n");
      out.write("                                    <col width=\"*\"/>\n");
      out.write("                                </colgroup>\n");
      out.write("                                <tr>\n");
      out.write("                                    <th>배송방법</th>\n");
      out.write("                                    <td>CJ대한통운(1588-1255) , 한진택배(1588-0011)</td>\n");
      out.write("                                </tr>\n");
      out.write("                                <tr>\n");
      out.write("                                    <th>배송지역</th>\n");
      out.write("                                    <td>전국</td>\n");
      out.write("                                </tr>\n");
      out.write("                                <tr>\n");
      out.write("                                    <th>배송비</th>\n");
      out.write("                                    <td>3,000원 (5만원 이상 구매 시 무료배송)<br/>\n");
      out.write("                                        * 제주 및 특수 도서 산간 지역은 별도 추가 운임 발생</td>\n");
      out.write("                                </tr>\n");
      out.write("                                <tr>\n");
      out.write("                                    <th>배송기간</th>\n");
      out.write("                                    <td>\n");
      out.write("                                        <b>* 출고일로부터 평균 2~3일 정도 소요됩니다. (주말/공휴일 제외)</b><br/>\n");
      out.write("                                        <b>* 상품 출고 시 송장 번호가 알림톡 또는 SMS로 발송됩니다.</b><br/>\n");
      out.write("                                        <b>* 모든 배송은 지역 택배사 사정과 천재지변으로 지연될 수 있습니다.</b><br/>\n");
      out.write("                                        <b>* 배송 폭주, 입고지연, 품절 등으로 인한 미출고 시 별도 안내 드립니다.</b>										\n");
      out.write("                                    </td>\n");
      out.write("                                </tr>\n");
      out.write("                                <tr>\n");
      out.write("                                    <th>주의사항</th>\n");
      out.write("                                    <td><b>* 주문 내역의 교환/취소/주소지 변경을 원하실 경우 고객센터로 연락 바랍니다.</b><br/>\n");
      out.write("                                        <b>* 주문 취소를 희망하는 경우 MY PAGE -> 주문 상세정보에서 직접 가능합니다.</b><br/>\n");
      out.write("                                        (상품 준비 중인 상태에서만 가능하며, 배송 준비 중/배송 중 상태에서는 추가 배송비가 부가될 수 있습니다.)</td>\n");
      out.write("                                </tr>\n");
      out.write("                                <tr>\n");
      out.write("                                    <th>고객센터</th>\n");
      out.write("                                    <td>1566-0554 / 카카오톡 플러스친구 @ohora <br/>\n");
      out.write("                                운영시간 : 365일 09:00 - 18:00 (점심시간 11:50 - 13:00)\n");
      out.write("                                </tr>\n");
      out.write("                            </table>\n");
      out.write("                            -->\n");
      out.write("              <table class=\"infoTbl\">\n");
      out.write("              <colgroup>\n");
      out.write("              <col width=\"215px\">\n");
      out.write("              <col width=\"*\">\n");
      out.write("              </colgroup>\n");
      out.write("              <tbody><tr>\n");
      out.write("              <th>배송방법</th>\n");
      out.write("                  <td>\n");
      out.write("              <b> 기본 배송 : 롯데택배(1588-2121) </b><br>\n");
      out.write("              </td>\n");
      out.write("                </tr>\n");
      out.write("              <tr>\n");
      out.write("              <th>배송지역</th>\n");
      out.write("                  <td>\n");
      out.write("              <b> 기본 배송 : 전국</b><br>\n");
      out.write("              </td>\n");
      out.write("                </tr>\n");
      out.write("              <tr>\n");
      out.write("              <th>배송비</th>\n");
      out.write("                  <td>\n");
      out.write("                    <b> 기본 배송 : 3,000원 (5만원 이상 구매 시 무료배송)</b><br>\n");
      out.write("                    * 제주 및 특수 도서 산간 지역은 3,000원의 별도 추가 운임비 발생<br>\n");
      out.write("              </td>\n");
      out.write("                </tr>\n");
      out.write("              <tr>\n");
      out.write("              <th>배송기간</th>\n");
      out.write("                  <td>\n");
      out.write("                    <b>[기본 배송]</b><br><b>* 평일 오후 2시 결제 완료 시 당일 출고됩니다. (주말/공휴일 제외)</b><br><b>* 상품 출고 시 송장 번호가 알림톡 또는 SMS로 발송됩니다.</b><br><b>* 모든 배송은 지역 택배사 사정과 천재지변으로 지연될 수 있습니다.</b><br><b>* 배송 폭주, 입고지연, 품절 등으로 인한 미출고 시 별도 안내 드립니다.</b> <br>\n");
      out.write("              </td>\n");
      out.write("                </tr>\n");
      out.write("              <tr>\n");
      out.write("              <th>주의사항</th>\n");
      out.write("                  <td>\n");
      out.write("                    <b>* 주문 내역의 교환/취소/주소지 변경을 원하실 경우 고객센터로 연락 바랍니다.</b><br><b>* 주문 취소를 희망하는 경우 MY PAGE -&gt; 주문 상세정보에서 직접 접수 가능합니다.</b><br>\n");
      out.write("                    (배송준비중 상태의 주문 건을 취소 접수할 경우, 출고 상황에 따라 취소가 거부될 수 있습니다.)<br>\n");
      out.write("              </td>\n");
      out.write("                </tr>\n");
      out.write("              <tr>\n");
      out.write("              <th>고객센터</th>\n");
      out.write("                  <td>\n");
      out.write("                    카카오톡 상담 (@ohora), 게시판 상담 (1:1 문의하기) <br>\n");
      out.write("                    운영시간 : 평일 09:00 - 18:00 (Lunch 12:30 - 13:30) <br>\n");
      out.write("              </td>\n");
      out.write("                </tr>\n");
      out.write("              </tbody></table>\n");
      out.write("              <br>\n");
      out.write("              <br>\n");
      out.write("            \n");
      out.write("              <h3 class=\"infoTit\">교환/반품 안내</h3>\n");
      out.write("              <table class=\"infoTbl\">\n");
      out.write("              <colgroup>\n");
      out.write("              <col width=\"215px\">\n");
      out.write("              <col width=\"*\">\n");
      out.write("              </colgroup>\n");
      out.write("              <tbody><tr>\n");
      out.write("              <th>교환/반품 신청기준</th>\n");
      out.write("                  <td>\n");
      out.write("                    <b>&lt;교환/반품 신청이 가능한 경우&gt;</b><br>\n");
      out.write("                    * 단순 변심으로 인한 교환 및 반품은 <b>제품 수령 후 주말 및 공휴일 포함 7일 이내</b>에 가능합니다. (배송비 고객부담)<br>\n");
      out.write("                    * 상품 불량으로 인한 교환 및 반품은 상품 공급일로부터 3개월 이내에 가능합니다. (기간엄수)<br>\n");
      out.write("                    (단, 상품 불량의 경우, 고객센터를 통한 불량 검수 후 정상 처리 여부가 결정됩니다.)<br>\n");
      out.write("                    * 옵션 오선택으로 인한 반품 및 교환 시에는 추가 배송비가 발생할 수 있습니다.<br>\n");
      out.write("                    * 상품 불량으로 인한 반품 및 교환을 원하시는 경우, 카톡 플러스친구 상담으로 접수 부탁드립니다.<br>\n");
      out.write("                    (불량 여부 확인 및 제품 품질 개선을 위하여 내용물 사진 등 제품에 대한 상세한 정보를 준비 부탁드립니다.)<br><br><b>&lt;교환/반품이 불가능한 경우&gt;</b><br>\n");
      out.write("                    * 소비자의 귀책 사유에 의한 상품 훼손(개봉) 및 사용에 의해 상품 가치가 현저히 감소한 경우 교환 및 반품이 불가합니다.<br>\n");
      out.write("                    * 교환 및 반품으로 인해 사은품 혜택 기준에 미달되었을 경우, 사은품도 함께 보내주셔야 정상적으로 처리 가능합니다.<br>\n");
      out.write("              </td>\n");
      out.write("                </tr>\n");
      out.write("              <tr>\n");
      out.write("              <th>교환/반품 배송비</th>\n");
      out.write("                  <td>제품 하자가 아닌 단순 변심에 의한 경우 배송비를 제외한 나머지 금액만 환불 처리됩니다.</td>\n");
      out.write("                </tr>\n");
      out.write("              <tr>\n");
      out.write("              <th>교환/반품 접수방법</th>\n");
      out.write("                  <td>\n");
      out.write("                    * 교환 및 반품 접수 문의는 고객센터로 연락 부탁드립니다.<br>\n");
      out.write("                    * 제품 수거는 교환 및 반품 신청 접수 후 오호라에서 순차 처리합니다.\n");
      out.write("                  </td>\n");
      out.write("                </tr>\n");
      out.write("              <tr>\n");
      out.write("              <th>주의사항</th>\n");
      out.write("                  <td>* 교환 및 반품 신청 시 신청 가능 기간을 엄수해주세요.</td>\n");
      out.write("                </tr>\n");
      out.write("              <tr>\n");
      out.write("              <th>고객센터</th>\n");
      out.write("                  <td>\n");
      out.write("                    카카오톡 상담 (@ohora), 게시판 상담 (1:1 문의하기) <br>\n");
      out.write("                    운영시간 : 평일 09:00 - 18:00 (Lunch 12:30 - 13:30) <br>\n");
      out.write("              </td>\n");
      out.write("                </tr>\n");
      out.write("              </tbody></table>\n");
      out.write("              					</div>\n");
      out.write("                         </div> \n");
      out.write("                          \n");
      out.write("                        </div><!-- 여기까지 배송이랑 QnA -->\n");
      out.write("      <!------------------------------ //prdQnA --------------------------------->\n");
      out.write("    \n");
      out.write("        </div> <!-- <div id=\"prdDetail\" class=\"ec-base-tab grid5\">까지 -->\n");
      out.write("        <!------------------------------ //SP_detailRelationPrd_wrap -------------------------------->\n");
      out.write("      </div>\n");
      out.write(" \n");
      out.write("\n");
      out.write("\n");
      out.write("	<script>\n");
      out.write("\n");
      out.write("	$(\"#btnTotalAmountUpdate\").on(\"click\", function inputUpdate() {\n");
      out.write("		\n");
      out.write("		let totalCountSum = 0;\n");
      out.write("	\n");
      out.write("		$(\"input[id^='option_']\").each(function() {\n");
      out.write("		    // 각 input 요소의 value 값을 숫자로 변환하여 누적 합산\n");
      out.write("		    totalCountSum += parseFloat($(this).val()) || 0; // NaN 방지를 위해 기본값 0 사용\n");
      out.write("		});\n");
      out.write("	\n");
      out.write("		$(\"#totalQuantity\").text(\"(\" + totalCountSum + \"개)\");\n");
      out.write("		console.log(\"총 input 갯수 : \" + totalCountSum); // 모든 값의 합계가 출력됩니다.\n");
      out.write("	\n");
      out.write("	})\n");
      out.write("	\n");
      out.write("	\n");
      out.write("	$(document).on(\"input\", \"input[id^='option_']\", function () {\n");
      out.write("    let totalCountSum = 0;\n");
      out.write("    \n");
      out.write("    $(\"input[id^='option_']\").each(function() {\n");
      out.write("        // 각 input 요소의 value 값을 숫자로 변환하여 누적 합산\n");
      out.write("        totalCountSum += parseFloat($(this).val()) || 0; // NaN 방지를 위해 기본값 0 사용\n");
      out.write("    });\n");
      out.write("\n");
      out.write("    $(\"#totalQuantity\").text(\"(\" + totalCountSum + \"개)\");\n");
      out.write("    console.log(\"총 input 갯수 : \" + totalCountSum); // 모든 값의 합계가 출력됩니다.\n");
      out.write("});\n");
      out.write("\n");
      out.write("</script>\n");
      out.write("\n");
      out.write("<script>\n");
      out.write("    var swiper = new Swiper(\".mySwiper\", {\n");
      out.write("        loop:true,\n");
      out.write("      pagination: {\n");
      out.write("        el: \".swiper-pagination\",\n");
      out.write("        centeredSlides: true,\n");
      out.write("        clickable: true,\n");
      out.write("        renderBullet: function (index, className) {\n");
      out.write("          return '<span class=\"' + className + '\">' + (index + 1) + \"</span>\";\n");
      out.write("        },\n");
      out.write("      },\n");
      out.write("    });\n");
      out.write("</script>\n");
      out.write("\n");
      out.write("<script>\n");
      out.write("    var swiper = new Swiper(\".mySwiper2\", {\n");
      out.write("      slidesPerView: 'auto', // 자동 너비 조절\n");
      out.write("      scrollbar: {\n");
      out.write("        el: \".swiper-scrollbar\",\n");
      out.write("        hide: false,\n");
      out.write("        draggable: true, \n");
      out.write("      },\n");
      out.write("      \n");
      out.write("      navigation: {\n");
      out.write("        nextEl: \".swiper-button-next\",\n");
      out.write("        prevEl: \".swiper-button-prev\",\n");
      out.write("      },\n");
      out.write("    });\n");
      out.write("  </script>\n");
      out.write("\n");
      out.write("<script>\n");
      out.write("    var swiper = new Swiper(\".mySwiper3\", {\n");
      out.write("      slidesPerView: 'auto', // 자동 너비 조절\n");
      out.write("      scrollbar: {\n");
      out.write("        el: \".swiper-scrollbar\",\n");
      out.write("        hide: false,\n");
      out.write("        draggable: true, \n");
      out.write("      },\n");
      out.write("      \n");
      out.write("      navigation: {\n");
      out.write("        nextEl: \".swiper-button-next2\",\n");
      out.write("        prevEl: \".swiper-button-prev2\",\n");
      out.write("      },\n");
      out.write("    });\n");
      out.write("  </script>\n");
      out.write("\n");
      out.write("<script>\n");
      out.write("    var swiper = new Swiper(\".mySwiper4\", {\n");
      out.write("        loop:true,\n");
      out.write("    });\n");
      out.write("</script>\n");
      out.write("\n");
      out.write("<script>\n");
      out.write("    var swiper = new Swiper(\".mySwiper5\", {\n");
      out.write("      effect: \"coverflow\",\n");
      out.write("      grabCursor: true,\n");
      out.write("      centeredSlides: true,\n");
      out.write("      slidesPerView: \"auto\",\n");
      out.write("      loop:true,\n");
      out.write("      coverflowEffect: {\n");
      out.write("        rotate: 50,\n");
      out.write("        stretch: 0,\n");
      out.write("        depth: 100,\n");
      out.write("        modifier: 1,\n");
      out.write("        slideShadows: true,\n");
      out.write("      }\n");
      out.write("    });\n");
      out.write("  </script>\n");
      out.write("\n");
      out.write("<!-- 회원 장바구니 버튼 -->\n");
      out.write("<script>\n");
      out.write("$(\"#userAddCartBtn\").on(\"click\", function(){\n");
      out.write("    \n");
      out.write("	// alert(\"test\");\n");
      out.write("	\n");
      out.write("	event.preventDefault(); // 기본 링크 동작을 막음\n");
      out.write("    \n");
      out.write("    if ($(\"#option_main_quantity\").length > 0) {\n");
      out.write("       const mainValue = $(\"#option_main_quantity\").val();\n");
      out.write("       const mainProductId = $(\"#option_main_quantity\").attr('product-id');\n");
      out.write("       \n");
      out.write("       console.log(mainValue, mainProductId);\n");
      out.write("       \n");
      out.write("       let queryParams = `pdtId=${mainProductId}&pdtCount=${mainValue}`;\n");
      out.write("       \n");
      out.write("       const values = $(\"input[type='text'][name='quantity_opt[]']\").map(function() {\n");
      out.write("            return $(this).val();\n");
      out.write("        }).get();\n");
      out.write("        \n");
      out.write("        const productIds = $(\"input[type='text'][name='quantity_opt[]']\").map(function() {\n");
      out.write("            return $(this).attr('product-id');\n");
      out.write("        }).get();\n");
      out.write("        \n");
      out.write("        productIds.forEach((id, index) => {\n");
      out.write("            const value = values[index];\n");
      out.write("            if (queryParams.length > 0) {\n");
      out.write("                queryParams += \"&\"; // 각 파라미터를 연결하기 위한 구분자\n");
      out.write("            }\n");
      out.write("            queryParams += `pdtId=${encodeURIComponent(id)}&pdtCount=${encodeURIComponent(value)}`;\n");
      out.write("        });\n");
      out.write("        console.log(queryParams);\n");
      out.write("         \n");
      out.write("        // 동적으로 href 속성 설정\n");
      out.write("        const fullUrl = `/userCart/addCartBtn.htm?${queryParams}`;\n");
      out.write("        $(this).attr('href', fullUrl);\n");
      out.write("\n");
      out.write("        // 기본 링크 동작을 막았기 때문에 원래 동작을 실행시켜 주기\n");
      out.write("        window.location.href = fullUrl;\n");
      out.write("        \n");
      out.write("    } else {\n");
      out.write("       const values = $(\"input[type='text'][name='quantity_opt[]']\").map(function() {\n");
      out.write("            return $(this).val();\n");
      out.write("        }).get();\n");
      out.write("        \n");
      out.write("        const productIds = $(\"input[type='text'][name='quantity_opt[]']\").map(function() {\n");
      out.write("            return $(this).attr('product-id');\n");
      out.write("        }).get();\n");
      out.write("        \n");
      out.write("        console.log(productIds, values);\n");
      out.write("        \n");
      out.write("        \n");
      out.write("        // 파라미터 형식으로 이어붙이기\n");
      out.write("        let queryParams = \"\";\n");
      out.write("\n");
      out.write("        productIds.forEach((id, index) => {\n");
      out.write("            const value = values[index];\n");
      out.write("            if (queryParams.length > 0) {\n");
      out.write("                queryParams += \"&\"; // 각 파라미터를 연결하기 위한 구분자\n");
      out.write("            }\n");
      out.write("            queryParams += `pdtId=${encodeURIComponent(id)}&pdtCount=${encodeURIComponent(value)}`;\n");
      out.write("        });\n");
      out.write("        console.log(queryParams);\n");
      out.write("\n");
      out.write("        \n");
      out.write("        // 동적으로 href 속성 설정\n");
      out.write("        const fullUrl = `/userCart/addCartBtn.htm?${queryParams}`;\n");
      out.write("        $(this).attr('href', fullUrl);\n");
      out.write("\n");
      out.write("        // 기본 링크 동작을 막았기 때문에 원래 동작을 실행시켜 주기\n");
      out.write("        window.location.href = fullUrl;\n");
      out.write("        \n");
      out.write("    }\n");
      out.write("   \n");
      out.write("});\n");
      out.write("</script>\n");
      out.write("\n");
      out.write("<script src=\"/projectOhora/resources/js/oho_main.js\"></script>\n");
      out.write("\n");
      out.write("<!-- <script>\n");
      out.write("// 쿠키 설정 함수\n");
      out.write("function setCookie(name, value, days) {\n");
      out.write("    let expires = '';\n");
      out.write("    if (days) {\n");
      out.write("        const date = new Date();\n");
      out.write("        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n");
      out.write("        expires = '; expires=' + date.toUTCString();\n");
      out.write("    }\n");
      out.write("    document.cookie = name + '=' + encodeURIComponent(value) + expires + '; path=/';\n");
      out.write("}\n");
      out.write("\n");
      out.write("// 쿠키 가져오기 함수\n");
      out.write("function getCookie(name) {\n");
      out.write("    const nameEQ = name + '=';\n");
      out.write("    const ca = document.cookie.split(';');\n");
      out.write("    for (let i = 0; i < ca.length; i++) {\n");
      out.write("        let c = ca[i];\n");
      out.write("        while (c.charAt(0) === ' ') c = c.substring(1, c.length);\n");
      out.write("        if (c.indexOf(nameEQ) === 0) return decodeURIComponent(c.substring(nameEQ.length, c.length));\n");
      out.write("    }\n");
      out.write("    return null;\n");
      out.write("}\n");
      out.write("\n");
      out.write("$(document).ready(function() {\n");
      out.write("    $(\".SP_cartBtn\").on(\"click\", function() {\n");
      out.write("        if (window.hasProductCountSession) {\n");
      out.write("            return;\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        // 장바구니에 담을 상품들을 저장할 배열\n");
      out.write("        let cartItems = [];\n");
      out.write("        \n");
      out.write("        // 메인 상품이 있는 경우 처리\n");
      out.write("        const mainQuantityInput = document.getElementById(\"option_main_quantity\");\n");
      out.write("        if (mainQuantityInput) {\n");
      out.write("            cartItems.push({\n");
      out.write("                id: mainQuantityInput.getAttribute('product-id'),\n");
      out.write("                quantity: parseInt(mainQuantityInput.value)\n");
      out.write("            });\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        // 추가 상품들 처리\n");
      out.write("        const additionalProducts = document.querySelectorAll(\".quantity_opt\");\n");
      out.write("        additionalProducts.forEach(product => {\n");
      out.write("            cartItems.push({\n");
      out.write("                id: product.getAttribute('product-id'),\n");
      out.write("                quantity: parseInt(product.value)\n");
      out.write("            });\n");
      out.write("        });\n");
      out.write("        \n");
      out.write("        // 기존 장바구니 쿠키 확인\n");
      out.write("        let existingCart = getCookie('basketItems');\n");
      out.write("        let updatedCart = [];\n");
      out.write("        \n");
      out.write("        if (existingCart) {\n");
      out.write("            try {\n");
      out.write("                updatedCart = JSON.parse(existingCart);\n");
      out.write("                \n");
      out.write("                // 새로운 아이템들을 기존 장바구니에 추가/업데이트\n");
      out.write("                cartItems.forEach(newItem => {\n");
      out.write("                    const existingItemIndex = updatedCart.findIndex(item => item.id === newItem.id);\n");
      out.write("                    \n");
      out.write("                    if (existingItemIndex !== -1) {\n");
      out.write("                        // 기존 상품이 있으면 수량 증가\n");
      out.write("                        updatedCart[existingItemIndex].quantity += newItem.quantity;\n");
      out.write("                    } else {\n");
      out.write("                        // 새로운 상품이면 추가\n");
      out.write("                        updatedCart.push(newItem);\n");
      out.write("                    }\n");
      out.write("                });\n");
      out.write("            } catch (e) {\n");
      out.write("                console.error('장바구니 쿠키 파싱 오류:', e);\n");
      out.write("                updatedCart = cartItems;\n");
      out.write("            }\n");
      out.write("        } else {\n");
      out.write("            updatedCart = cartItems;\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        // 쿠키에 장바구니 저장 (24시간 유효)\n");
      out.write("        setCookie('basketItems', JSON.stringify(updatedCart), 1);\n");
      out.write("        \n");
      out.write("        // 장바구니 카운트 업데이트 (header.jsp의 함수 호출)\n");
      out.write("        if (typeof updateCartCountFromCookie === 'function') {\n");
      out.write("            updateCartCountFromCookie();\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        alert('상품이 장바구니에 담겼습니다.');\n");
      out.write("    });\n");
      out.write("    \n");
      out.write("    // 초기 계산 실행\n");
      out.write("    lastPriceFunc();\n");
      out.write("});\n");
      out.write("</script> -->\n");
      out.write("\n");
      out.write("\n");
      out.write("</body>\n");
      out.write("   \n");
      out.write("</html>\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }

  private boolean _jspx_meth_c_005fforEach_005f0(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:forEach
    org.apache.taglibs.standard.tag.rt.core.ForEachTag _jspx_th_c_005fforEach_005f0 = (org.apache.taglibs.standard.tag.rt.core.ForEachTag) _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems.get(org.apache.taglibs.standard.tag.rt.core.ForEachTag.class);
    boolean _jspx_th_c_005fforEach_005f0_reused = false;
    try {
      _jspx_th_c_005fforEach_005f0.setPageContext(_jspx_page_context);
      _jspx_th_c_005fforEach_005f0.setParent(null);
      // /WEB-INF/views/product/prdDetailView.jsp(275,12) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fforEach_005f0.setVar("product");
      // /WEB-INF/views/product/prdDetailView.jsp(275,12) name = items type = javax.el.ValueExpression reqTime = true required = false fragment = false deferredValue = true expectedTypeName = java.lang.Object deferredMethod = false methodSignature = null
      _jspx_th_c_005fforEach_005f0.setItems(new org.apache.jasper.el.JspValueExpression("/WEB-INF/views/product/prdDetailView.jsp(275,12) '${additionalProducts}'",_jsp_getExpressionFactory().createValueExpression(_jspx_page_context.getELContext(),"${additionalProducts}",java.lang.Object.class)).getValue(_jspx_page_context.getELContext()));
      int[] _jspx_push_body_count_c_005fforEach_005f0 = new int[] { 0 };
      try {
        int _jspx_eval_c_005fforEach_005f0 = _jspx_th_c_005fforEach_005f0.doStartTag();
        if (_jspx_eval_c_005fforEach_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
          do {
            out.write("<li data-prd-num=\"");
            out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
            out.write("\" class=\"xans-record-\">\n");
            out.write("				                <div class=\"SP_addSetInfo\">\n");
            out.write("				                    <!-- 상품 썸네일 -->\n");
            out.write("				                    <div class=\"SP_addSetThumb\">\n");
            out.write("				                        <a href=\"/product/");
            out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtName}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
            out.write('/');
            out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
            out.write("/\">\n");
            out.write("				                            <img src=\"");
            out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtImgUrl != null ? product.pdtImgUrl : '../resources/images/prd_img/마롱네일1.jpg'}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
            out.write("\" \n");
            out.write("				                                 alt=\"");
            out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtName}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
            out.write("\" \n");
            out.write("				                                 id=\"ec-add-product-composed-product-");
            out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
            out.write("\">\n");
            out.write("				                        </a>\n");
            out.write("				                    </div>\n");
            out.write("				                    <!-- 상품 정보 -->\n");
            out.write("				                    <div class=\"SP_prdAddSetList\">\n");
            out.write("				                        <ul style=\"padding-left: 10px;\">\n");
            out.write("				                            <li class=\"SP_addSetList_tt\">\n");
            out.write("				                                <div class=\"SP_prdAddSet_cont SP_prdAddSet_prdtt\">");
            out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtName}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
            out.write("</div>\n");
            out.write("				                            </li>\n");
            out.write("				                            <li class=\"desc\">");
            out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtDescription}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
            out.write("</li>\n");
            out.write("				                            <li class=\"add_prd_price\">\n");
            out.write("				                                <div class=\"SP_prdAddSet_cont SP_prdAddSet_price\">\n");
            out.write("				                                    <span>");
            out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtAmount != null ? product.pdtAmount : 0}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
            out.write("</span>원\n");
            out.write("				                                </div>\n");
            out.write("				                            </li>\n");
            out.write("				                        </ul>\n");
            out.write("				                    </div>\n");
            out.write("				                    <!-- 추가 버튼 -->\n");
            out.write("				                    <div class=\"btn add-opt-click\">\n");
            out.write("				                        <a href=\"javascript:void(0);\" \n");
            out.write("				                           class=\"add-product-btn\" \n");
            out.write("				                           data-id=\"");
            out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
            out.write("\" \n");
            out.write("				                           data-name=\"");
            out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtName}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
            out.write("\" \n");
            out.write("				                           data-price=\"");
            out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtAmount}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
            out.write("\" \n");
            out.write("				                           onclick=\"lastPriceFunc();\">\n");
            out.write("				                            추가\n");
            out.write("				                        </a>\n");
            out.write("				                    </div>\n");
            out.write("				                </div>\n");
            out.write("				            </li>\n");
            out.write("				        ");
            int evalDoAfterBody = _jspx_th_c_005fforEach_005f0.doAfterBody();
            if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
              break;
          } while (true);
        }
        if (_jspx_th_c_005fforEach_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
          return true;
        }
      } catch (java.lang.Throwable _jspx_exception) {
        while (_jspx_push_body_count_c_005fforEach_005f0[0]-- > 0)
          out = _jspx_page_context.popBody();
        _jspx_th_c_005fforEach_005f0.doCatch(_jspx_exception);
      } finally {
        _jspx_th_c_005fforEach_005f0.doFinally();
      }
      _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems.reuse(_jspx_th_c_005fforEach_005f0);
      _jspx_th_c_005fforEach_005f0_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fforEach_005f0, _jsp_getInstanceManager(), _jspx_th_c_005fforEach_005f0_reused);
    }
    return false;
  }

  private boolean _jspx_meth_sec_005fauthorize_005f0(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  sec:authorize
    org.springframework.security.taglibs.authz.JspAuthorizeTag _jspx_th_sec_005fauthorize_005f0 = (org.springframework.security.taglibs.authz.JspAuthorizeTag) _005fjspx_005ftagPool_005fsec_005fauthorize_0026_005faccess.get(org.springframework.security.taglibs.authz.JspAuthorizeTag.class);
    boolean _jspx_th_sec_005fauthorize_005f0_reused = false;
    try {
      _jspx_th_sec_005fauthorize_005f0.setPageContext(_jspx_page_context);
      _jspx_th_sec_005fauthorize_005f0.setParent(null);
      // /WEB-INF/views/product/prdDetailView.jsp(605,7) name = access type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthorize_005f0.setAccess("isAnonymous()");
      int _jspx_eval_sec_005fauthorize_005f0 = _jspx_th_sec_005fauthorize_005f0.doStartTag();
      if (_jspx_eval_sec_005fauthorize_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        out.write("<!-- 비회원 -->\n");
        out.write("	                            <a href=\"#none\" class=\"SP_cm_btn SP_cartBtn \">장바구니 담기</a>\n");
        out.write("							");
      }
      if (_jspx_th_sec_005fauthorize_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fsec_005fauthorize_0026_005faccess.reuse(_jspx_th_sec_005fauthorize_005f0);
      _jspx_th_sec_005fauthorize_005f0_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sec_005fauthorize_005f0, _jsp_getInstanceManager(), _jspx_th_sec_005fauthorize_005f0_reused);
    }
    return false;
  }

  private boolean _jspx_meth_sec_005fauthorize_005f1(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  sec:authorize
    org.springframework.security.taglibs.authz.JspAuthorizeTag _jspx_th_sec_005fauthorize_005f1 = (org.springframework.security.taglibs.authz.JspAuthorizeTag) _005fjspx_005ftagPool_005fsec_005fauthorize_0026_005faccess.get(org.springframework.security.taglibs.authz.JspAuthorizeTag.class);
    boolean _jspx_th_sec_005fauthorize_005f1_reused = false;
    try {
      _jspx_th_sec_005fauthorize_005f1.setPageContext(_jspx_page_context);
      _jspx_th_sec_005fauthorize_005f1.setParent(null);
      // /WEB-INF/views/product/prdDetailView.jsp(608,7) name = access type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sec_005fauthorize_005f1.setAccess("isAuthenticated()");
      int _jspx_eval_sec_005fauthorize_005f1 = _jspx_th_sec_005fauthorize_005f1.doStartTag();
      if (_jspx_eval_sec_005fauthorize_005f1 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        out.write("<!-- 회원 -->\n");
        out.write("								<a href=\"#none\" class=\"SP_cm_btn SP_cartBtn \" id=\"userAddCartBtn\" onclick=\"addtoCart();\">장바구니 담기</a>\n");
        out.write("							");
      }
      if (_jspx_th_sec_005fauthorize_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fsec_005fauthorize_0026_005faccess.reuse(_jspx_th_sec_005fauthorize_005f1);
      _jspx_th_sec_005fauthorize_005f1_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sec_005fauthorize_005f1, _jsp_getInstanceManager(), _jspx_th_sec_005fauthorize_005f1_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fforEach_005f1(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:forEach
    org.apache.taglibs.standard.tag.rt.core.ForEachTag _jspx_th_c_005fforEach_005f1 = (org.apache.taglibs.standard.tag.rt.core.ForEachTag) _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvarStatus_005fvar_005fitems.get(org.apache.taglibs.standard.tag.rt.core.ForEachTag.class);
    boolean _jspx_th_c_005fforEach_005f1_reused = false;
    try {
      _jspx_th_c_005fforEach_005f1.setPageContext(_jspx_page_context);
      _jspx_th_c_005fforEach_005f1.setParent(null);
      // /WEB-INF/views/product/prdDetailView.jsp(845,20) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fforEach_005f1.setVar("product");
      // /WEB-INF/views/product/prdDetailView.jsp(845,20) name = items type = javax.el.ValueExpression reqTime = true required = false fragment = false deferredValue = true expectedTypeName = java.lang.Object deferredMethod = false methodSignature = null
      _jspx_th_c_005fforEach_005f1.setItems(new org.apache.jasper.el.JspValueExpression("/WEB-INF/views/product/prdDetailView.jsp(845,20) '${productList}'",_jsp_getExpressionFactory().createValueExpression(_jspx_page_context.getELContext(),"${productList}",java.lang.Object.class)).getValue(_jspx_page_context.getELContext()));
      // /WEB-INF/views/product/prdDetailView.jsp(845,20) name = varStatus type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fforEach_005f1.setVarStatus("status");
      int[] _jspx_push_body_count_c_005fforEach_005f1 = new int[] { 0 };
      try {
        int _jspx_eval_c_005fforEach_005f1 = _jspx_th_c_005fforEach_005f1.doStartTag();
        if (_jspx_eval_c_005fforEach_005f1 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
          do {
            if (_jspx_meth_c_005fif_005f0(_jspx_th_c_005fforEach_005f1, _jspx_page_context, _jspx_push_body_count_c_005fforEach_005f1))
              return true;
            int evalDoAfterBody = _jspx_th_c_005fforEach_005f1.doAfterBody();
            if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
              break;
          } while (true);
        }
        if (_jspx_th_c_005fforEach_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
          return true;
        }
      } catch (java.lang.Throwable _jspx_exception) {
        while (_jspx_push_body_count_c_005fforEach_005f1[0]-- > 0)
          out = _jspx_page_context.popBody();
        _jspx_th_c_005fforEach_005f1.doCatch(_jspx_exception);
      } finally {
        _jspx_th_c_005fforEach_005f1.doFinally();
      }
      _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvarStatus_005fvar_005fitems.reuse(_jspx_th_c_005fforEach_005f1);
      _jspx_th_c_005fforEach_005f1_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fforEach_005f1, _jsp_getInstanceManager(), _jspx_th_c_005fforEach_005f1_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fif_005f0(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fforEach_005f1, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_c_005fforEach_005f1)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:if
    org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f0 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
    boolean _jspx_th_c_005fif_005f0_reused = false;
    try {
      _jspx_th_c_005fif_005f0.setPageContext(_jspx_page_context);
      _jspx_th_c_005fif_005f0.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fforEach_005f1);
      // /WEB-INF/views/product/prdDetailView.jsp(846,24) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fif_005f0.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${status.index >= 20 && status.index < 8}", boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null)).booleanValue());
      int _jspx_eval_c_005fif_005f0 = _jspx_th_c_005fif_005f0.doStartTag();
      if (_jspx_eval_c_005fif_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        do {
          out.write("\n");
          out.write("            {\n");
          out.write("                id: ");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write(",\n");
          out.write("                name: \"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtName}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\",\n");
          out.write("                normalPrice: ");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtAmount}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write(",\n");
          out.write("                salePrice: ");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtDiscountAmount}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write(",\n");
          out.write("                discount: ");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtDiscountRate}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write(",\n");
          out.write("                imgUrl: \"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtImgUrl}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\",\n");
          out.write("                imgUrl2: \"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtImgUrl2}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\",\n");
          out.write("                reviewCount: ");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${product.pdtReviewCount}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\n");
          out.write("            }");
          if (_jspx_meth_c_005fif_005f1(_jspx_th_c_005fif_005f0, _jspx_page_context, _jspx_push_body_count_c_005fforEach_005f1))
            return true;
          int evalDoAfterBody = _jspx_th_c_005fif_005f0.doAfterBody();
          if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
            break;
        } while (true);
      }
      if (_jspx_th_c_005fif_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f0);
      _jspx_th_c_005fif_005f0_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fif_005f0, _jsp_getInstanceManager(), _jspx_th_c_005fif_005f0_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fif_005f1(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fif_005f0, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_c_005fforEach_005f1)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:if
    org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f1 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
    boolean _jspx_th_c_005fif_005f1_reused = false;
    try {
      _jspx_th_c_005fif_005f1.setPageContext(_jspx_page_context);
      _jspx_th_c_005fif_005f1.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f0);
      // /WEB-INF/views/product/prdDetailView.jsp(856,13) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fif_005f1.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${status.index < 7}", boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null)).booleanValue());
      int _jspx_eval_c_005fif_005f1 = _jspx_th_c_005fif_005f1.doStartTag();
      if (_jspx_eval_c_005fif_005f1 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        do {
          out.write(',');
          int evalDoAfterBody = _jspx_th_c_005fif_005f1.doAfterBody();
          if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
            break;
        } while (true);
      }
      if (_jspx_th_c_005fif_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f1);
      _jspx_th_c_005fif_005f1_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fif_005f1, _jsp_getInstanceManager(), _jspx_th_c_005fif_005f1_reused);
    }
    return false;
  }
}
